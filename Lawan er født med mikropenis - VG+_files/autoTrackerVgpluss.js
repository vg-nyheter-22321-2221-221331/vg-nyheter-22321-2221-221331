/* SPT */!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.AutoTrack=e():t.AutoTrack=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=98)}([function(t,e,i){"use strict";function n(t,e,i){var n,r=1;if(!t||"number"!=typeof t)throw new Error("times required");if(!e||"function"!=typeof e)throw new Error("task required");if(!i||"function"!=typeof i)throw new Error("callback required");n=function(){arguments[0]&&r>=t?i.apply(null,arguments):arguments[0]?(r+=1,e(n)):i.apply(null,arguments)},e(n)}function r(){var t,e;return"undefined"!=typeof window.innerWidth?(t=window.innerWidth,e=window.innerHeight):"undefined"!=typeof document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(t=document.documentElement.clientWidth,e=document.documentElement.clientHeight):(t=document.getElementsByTagName("body")[0].clientWidth,e=document.getElementsByTagName("body")[0].clientHeight),t+"x"+e}function o(){var t;return navigator.userLanguage?t=navigator.userLanguage:navigator.language&&(t=navigator.language),t}function s(t){var e={mobile:["iPhone;","iPod;","iPod touch;","^HTC","Fennec","IEMobile","BB10;","BlackBerry","SymbianOS.*AppleWebKit","^Mozilla.*Mobile.*Firefox","^Mozilla.*Chrome.*Mobile","Opera Mobi","Android.*Mobile","Android.*Mini","Symbian","^SonyEricsson","^Nokia","^SAMSUNG","^LG"],tablet:["iPad;","Android"]},i=function(e){var i,n=0;for(n;n<e.length;n++)if(i=e[n],t.match(new RegExp(i)))return!0;return!1};if(t){if(i(e.mobile))return"mobile";if(i(e.tablet))return"tablet"}return"desktop"}function a(){var t=new Date,e=-t.getTimezoneOffset(),i=e>=0?"+":"-",n=function(t){var e=Math.abs(Math.floor(t));return(e<10?"0":"")+e},r=t.getFullYear()+"-"+n(t.getMonth()+1)+"-"+n(t.getDate());return r=r+"T"+n(t.getHours())+":"+n(t.getMinutes()),r=r+":"+n(t.getSeconds()),r=r+i+n(e/60)+":"+n(e%60)}function u(){var t,e,i="",n=function(){return window.crypto?window.crypto.getRandomValues(new Uint8Array(1))[0]/256:Math.random()};for(e=0;e<36;e++)t=14===e?4:19===e?Math.floor(4*n()+8).toString(16):8===e||13===e||18===e||23===e?"-":Math.floor(16*n()).toString(16),i+=t;return i}function c(t){var e,i,n=[],r=location.search,o=r.split("&"),s=new RegExp(t+"=([^&;]+?)(&|#|;|$)","i");for(i=0;i<o.length;i++)e=o[i].match(s),e&&n.push(e[1]);return n}function d(){return(Math.floor(window.pageYOffset)||document.scrollTop||0)-(document.clientTop||0)}function l(){var t,e,i;if(!window.performance)return null;t=window.performance.timing.domLoading,e=(new Date).getTime();try{i=e-t}catch(t){i=null}return i}function p(){localStorage.setItem("pulse2-val","check"),localStorage.removeItem("pulse2-val")}function h(t){return"[object Array]"===Object.prototype.toString.call(t)}function f(t){var e,i,n=Object.prototype.hasOwnProperty,r=!{toString:null}.propertyIsEnumerable("toString"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=o.length,a=[];if("object"!==("undefined"==typeof t?"undefined":P(t))&&("function"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");for(e in t)n.call(t,e)&&a.push(e);if(r)for(i=0;i<s;i++)n.call(t,o[i])&&a.push(o[i]);return a}function g(){return(new Date).getTime()}function v(t){var e=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||!1;return e}function y(t,e){var i=t+"=";e&&(i+=";domain="+e,i+=";path=/"),i+=";expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie=i}function m(t,e,i,n){var r;r=t+"="+e,r+=";domain="+i,r+=";path=/",r+=";expires="+n,document.cookie=r}function b(t){return"m.finn.no"===t?"finn.no":t.replace(/^www\./,"")}function w(t,e,i){t.addEventListener?t.addEventListener(e,i):t.attachEvent("on"+e,i)}function I(t,e,i){t.removeEventListener?t.removeEventListener(e,i):t.detachEvent("on"+e,i)}function j(t){return"string"==typeof t&&t.indexOf("sdrn:")===-1?t.replace(/:/g,"%3A"):t}function S(t){return t&&"string"==typeof t?"ClassifiedAd"===t?"classified":"NotificationContent"===t?"notification":t.toLowerCase():t}function k(t,e,i){var n=j(i),r=S(j(e));if(t=j(t),0===String(t).indexOf("sdrn:"))return t;if(!t)throw new Error("`clientId` is required");if(!e)throw new Error("`contentType` is required");if(!i)throw new Error("`targetId` is required");return"sdrn:"+t+":"+r+":"+n}function O(t){return t<10?"0"+t:t}function T(t){return t.getUTCFullYear()+"-"+O(t.getUTCMonth()+1)+"-"+O(t.getUTCDate())+"T"+O(t.getUTCHours())+":"+O(t.getUTCMinutes())+":"+O(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}function E(t){var e=document.createElement("a");return e.setAttribute("href",t),e.hostname}function x(t,e,i){if(!t[e])throw new Error((i||e)+" is required")}Object.defineProperty(e,"__esModule",{value:!0});var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.retry=n,e.getViewportDimensions=r,e.getDeviceLanguage=o,e.getDeviceType=s,e.getTimestamp=a,e.getUuidV4=u,e.getUrlParams=c,e.getScrollPosition=d,e.getViewDuration=l,e.checkLocalStorage=p,e.isArray=h,e.objectKeys=f,e.dateNow=g,e.getCookie=v,e.deleteCookie=y,e.writeCookie=m,e.broadenDomain=b,e.bind=w,e.unbind=I,e.getSdrnIdWithContentType=k,e.dateToISO=T,e.getDomainFromUrl=E,e.requiredAttribute=x},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(e?console.log:a)(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.debug=r;var o=i(44),s=n(o),a=(0,s.default)("spt:pulse")},function(t,e){var i=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=i)},function(t,e,i){(function(e){function i(){return Object.assign?Object.assign:function(t,e,i,n){for(var r=1;r<arguments.length;r++)a(Object(arguments[r]),function(e,i){t[i]=e});return t}}function n(){function t(){}return Object.create?function(t,e,i,n){var r=s(arguments,1);return h.apply(this,[Object.create(t)].concat(r))}:function(e,i,n,r){var o=s(arguments,1);return t.prototype=e,h.apply(this,[new t].concat(o))}}function r(){return String.prototype.trim?function(t){return String.prototype.trim.call(t)}:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function o(t,e){return function(){return e.apply(t,Array.prototype.slice.call(arguments,0))}}function s(t,e){return Array.prototype.slice.call(t,e||0)}function a(t,e){c(t,function(t,i){return e(t,i),!1})}function u(t,e){var i=d(t)?[]:{};return c(t,function(t,n){return i[n]=e(t,n),!1}),i}function c(t,e){if(d(t)){for(var i=0;i<t.length;i++)if(e(t[i],i))return t[i]}else for(var n in t)if(t.hasOwnProperty(n)&&e(t[n],n))return t[n]}function d(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length}function l(t){return t&&"[object Function]"==={}.toString.call(t)}function p(t){return t&&"[object Object]"==={}.toString.call(t)}var h=i(),f=n(),g=r(),v="undefined"!=typeof window?window:e;t.exports={assign:h,create:f,trim:g,bind:o,slice:s,each:a,map:u,pluck:c,isList:d,isFunction:l,isObject:p,Global:v}}).call(e,i(30))},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var n=i(4),r=i(2),o=i(22),s=i(77),a=i(19),u="prototype",c=function(t,e,i){var d,l,p,h,f=t&c.F,g=t&c.G,v=t&c.S,y=t&c.P,m=t&c.B,b=g?n:v?n[e]||(n[e]={}):(n[e]||{})[u],w=g?r:r[e]||(r[e]={}),I=w[u]||(w[u]={});g&&(i=e);for(d in i)l=!f&&b&&void 0!==b[d],p=(l?b:i)[d],h=m&&l?a(p,n):y&&"function"==typeof p?a(Function.call,p):p,b&&s(b,d,p,t&c.U),w[d]!=p&&o(w,d,h),y&&I[d]!=p&&(I[d]=p)};n.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(52);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})})},function(t,e,i){"use strict";function n(){}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=i(0);n.prototype.getUrlWithCorrectProtocol=function(t){var e=t.split("://");return"//"+e.pop()},n.prototype.getXHR=function(t,e,i){var n;return"undefined"!=typeof XDomainRequest?(n=new XDomainRequest,n.open(e.toLowerCase(),this.getUrlWithCorrectProtocol(i)),n):(n=new XMLHttpRequest,"withCredentials"in n&&(n.open(e,i),n.setRequestHeader("Content-Type","application/json; charset=utf-8"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),t&&(n.withCredentials=!0),n))},n.prototype.addDataToUrl=function(t,e){var i,n;if(!e||"object"!==("undefined"==typeof e?"undefined":r(e)))return t;for(i=(0,o.objectKeys)(e);i&&"object"===r(e[i[0]]);)i.shift();for(t=this.appendParameterToUrl(t,i[0],e[i[0]],"?"),n=1;n<i.length;n++)t=this.appendParameterToUrl(t,i[n],e[i[n]],"&");return t},n.prototype.appendParameterToUrl=function(t,e,i,n){return"object"!==("undefined"==typeof i?"undefined":r(i))?t+n+encodeURIComponent(e)+"="+encodeURIComponent(i):t},n.prototype.post=function(t,e,i,n,o){return t?e&&"object"===("undefined"==typeof e?"undefined":r(e))?(n=n||!1,void this.send(t,e,i,n,o,"POST")):i("data required"):i("url required")},n.prototype.get=function(t,e,i,n,r){return t?(e&&(t=this.addDataToUrl(t,e)),void this.send(t,e,i,r,n,"GET")):i("url required")},n.prototype.send=function(t,e,i,n,r,s){var a=this;if(!i)throw new Error("callback required");r=r||3,(0,o.retry)(r,function(i){var r=a.getXHR(n,s,t);if(r||i("Failed to identify request method"),"undefined"!=typeof XDomainRequest?(r.onload=function(){i(null,r)},r.onprogress=function(){},r.onerror=function(){i("Failed request"),r.abort()},r.ontimeout=r.onerror):r.onreadystatechange=function(){4===r.readyState&&(200===r.status?i(null,r):i("Failed with status "+r.status))},"POST"===s)try{r.send(JSON.stringify(e))}catch(t){i(t.name+": "+t.message)}else if("GET"===s)try{r.send()}catch(t){i(t)}},i)},e.default=n},function(t,e,i){t.exports=!i(7)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(18);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return t=t?(new Date).getTime(t):(new Date).getTime(),Math.round(t/1e3)}function s(t,e){var i=this;if(e=e||{},!t)throw new Error("activity is required");this.activity=t,this.initialTimeInMs=Date.now(),this.pageViewId=e.pageViewId,this.device=e.device,this.group=e.group,this.wordCount=e.wordCount||null,this.url=e.url,this.referrerInfo=e.referrerInfo,this.scrollContainer=e.scrollContainer||null,this.articleContainer=e.articleContainer||null,this.scrollPosition=0,this.articleViewedPercentage=null,this.totalActiveTime=0,this.lastActiveTime=o(),this.lastPingSent=this.lastActiveTime,this.activityInterval=null,this.windowEventTypes=["focus","resize"],this.bodyEventTypes=["beforeunload","focus","mousemove","mousedown","keydown"],this.throttledUpdateActivity=(0,u.default)(function(){return i.updateActivity()},500),this.latestEngagementData=null}Object.defineProperty(e,"__esModule",{value:!0});var a=i(29),u=r(a),c=i(86),d=n(c),l=i(0),p=5,h=5;s.prototype.initialize=function(){this.storeActivity(),this.trackActivity(),this.initializePings()},s.prototype.trackActivity=function(){var t;for(t=0;t<this.windowEventTypes.length;t++)(0,l.bind)(window,this.windowEventTypes[t],this.throttledUpdateActivity);for(t=0;t<this.bodyEventTypes.length;t++)(0,l.bind)(document.body,this.bodyEventTypes[t],this.throttledUpdateActivity);this.trackScrollActivity(),this.trackReadingTime(p)},s.prototype.trackScrollActivity=function(){(0,l.bind)(this.scrollContainer||window,"scroll",this.throttledUpdateActivity)},s.prototype.untrackScrollActivity=function(){(0,l.unbind)(this.scrollContainer||window,"scroll",this.throttledUpdateActivity)},s.prototype.trackReadingTime=function(t){var e=this,i=1;this.activityInterval=window.setInterval(function(){e.lastActiveTime<o()-t||(e.totalActiveTime+=i,e.storeActivity())},1e3*i)},s.prototype.updateActivity=function(){this.lastActiveTime=o(),this.updateScrollPosition(),this.storeActivity()},s.prototype.updateScrollPosition=function(){var t,e=(window.pageYOffset||document.scrollTop)-(document.clientTop||0),i=Math.max(0,Math.round(e));i>this.scrollPosition&&(this.scrollPosition=i),this.articleContainer&&(t=Math.round(100/this.articleContainer.offsetHeight*d(this.articleContainer)),t>this.articleViewedPercentage&&t<=100&&(this.articleViewedPercentage=t))},s.prototype.storeActivity=function(){this.latestEngagementData={articleId:this.activity.contentId,pageViewId:this.pageViewId,group:this.group,scrollPosition:this.scrollPosition,articleViewedPercentage:this.articleViewedPercentage,totalActiveTime:this.totalActiveTime,referrerInfo:this.referrerInfo,wordCount:this.wordCount,url:this.url}},s.prototype.initializePings=function(){var t=this;this.pingInterval=window.setInterval(function(){t.lastPingSent!==t.lastActiveTime&&(t.lastPingSent=t.lastActiveTime,t.sendEvent(t.latestEngagementData))},1e3*h)},s.prototype.sendEvent=function(t){var e=this.activity.events.trackEngagement(1e3*t.totalActiveTime,t.scrollPosition);e.data["spt:pageViewId"]=t.pageViewId,e.data.object["@id"]=(0,l.getSdrnIdWithContentType)(this.activity.opts.clientId,this.activity.contentType,this.activity.contentId),e.send()},s.prototype.destroy=function(){var t;for(this.activityInterval&&window.clearInterval(this.activityInterval),this.pingInterval&&window.clearInterval(this.pingInterval),t=0;t<this.windowEventTypes.length;t++)(0,l.unbind)(window,this.windowEventTypes[t],this.throttledUpdateActivity);for(t=0;t<this.bodyEventTypes.length;t++)(0,l.unbind)(document.body,this.bodyEventTypes[t],this.throttledUpdateActivity);this.untrackScrollActivity(),this.reset()},s.prototype.reset=function(){this.scrollPosition=0,this.totalActiveTime=0,this.lastActiveTime=0,this.lastPingSent=0},e.default=s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){return Boolean(t)&&t.length>0}function o(t,e){this.referrer=t||document.referrer,this.url=e||window.location.href}function s(t,e){return r(t)&&r(e)&&(0,l.getDomainFromUrl)(t)===(0,l.getDomainFromUrl)(e)}function a(t,e){return t&&t.url&&t.url===e}function u(t,e,i){var n,r=null;return d.default.enabled?(s(e,i)&&(n=d.default.get(t),a(n,e)&&(r=n)),r):null}Object.defineProperty(e,"__esModule",{value:!0});var c=i(87),d=n(c),l=i(0);o.prototype.evaluateReferringArticle=function(){return u("previousArticle",this.referrer,this.url)},o.prototype.evaluateReferringPage=function(){return u("previousPage",this.referrer,this.url)},o.prototype.evaluateReferringExperiment=function(){return u("referringExperiment",this.referrer,this.url)},o.prototype.evaluateReferringImpression=function(){return u("referringImpression",this.referrer,this.url)},o.prototype.setArticle=function(t){d.default.enabled&&(d.default.set("referringImpression",null),d.default.set("referringExperiment",null),d.default.set("previousPage",null),d.default.set("previousArticle",{url:this.url,referrer:this.referrer,articleId:t.articleId}))},o.prototype.setPage=function(t){d.default.enabled&&(d.default.set("referringImpression",null),d.default.set("referringExperiment",null),d.default.set("previousArticle",null),d.default.set("previousPage",{url:this.url,referrer:this.referrer,pageId:t.pageId,experiments:t.experiments||null}))},o.prototype.setReferringExperiment=function(t){d.default.enabled&&d.default.set("referringExperiment",{url:this.url,referrer:this.referrer,experiment:t})},o.prototype.setReferringImpression=function(t){d.default.enabled&&d.default.set("referringImpression",{url:this.url,referrer:this.referrer,impression:t})},o.prototype.setUrl=function(t){this.referrer=this.url,this.url=t},o.prototype.setReferrer=function(t){this.referrer=t||this.referrer},o.prototype.getUrl=function(){return this.url},o.prototype.getReferrer=function(){return this.referrer},e.default=o},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){var e,i=document.getElementsByTagName("*"),n=[];for(e=0;e<i.length;e++)i[e].hasAttribute(t)&&i[e].getAttribute(t)&&n.push(i[e]);return n}function o(){return{top:0,left:0,right:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,bottom:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0}}function s(t,e){return t.left>=e.left&&t.right<=e.right&&t.top>=e.top&&t.bottom<=e.bottom}function a(t,e,i){return t.left>=e.left&&t.right<=e.right&&(t.top>=e.top&&t.top<=e.bottom&&e.bottom-t.top>=i||t.bottom>=e.top&&t.bottom<=e.bottom&&t.bottom-e.top>=i||t.top<=e.top&&t.bottom>=e.bottom)}function u(t){var e=this;this.throttledFindNewElementsInViewport=(0,d.default)(function(){return e.findNewElementsInViewport()},h),this.elementsToSend=[],this.possibleElementsInViewport=r("data-engage-entity-id"),this.activity=t}Object.defineProperty(e,"__esModule",{value:!0});var c=i(29),d=n(c),l=i(0),p=2e3,h=100;u.prototype.initialize=function(){var t=this;this.sendInterval=window.setInterval(function(){return t.sendImpressionsIfExist()},p),(0,l.bind)(window,"scroll",this.throttledFindNewElementsInViewport),(0,l.bind)(window,"resize",this.throttledFindNewElementsInViewport),this.throttledFindNewElementsInViewport(),this.sendImpressionsIfExist()},u.prototype.findNewElementsInViewport=function(){var t,e,i=o(),n=.33*(i.bottom-i.top);for(t=0;t<this.possibleElementsInViewport.length;t++)e=this.possibleElementsInViewport[t],(s(e.getBoundingClientRect(),i)||a(e.getBoundingClientRect(),i,n))&&(e.hasAttribute("data-engage-already-sent")||(this.elementsToSend.push(e),e.setAttribute("data-engage-already-sent","true")))},u.prototype.sendImpressionsIfExist=function(){0!==this.elementsToSend.length&&(this.sendImpressions(),this.elementsToSend=[])},u.prototype.sendImpressions=function(){var t,e,i;for(t=0;t<this.elementsToSend.length;t++)e=this.elementsToSend[t],i=this.activity.events.trackContentView(),i.data["spt:pageViewId"]=this.activity.getPageViewId(),i.data.object["@id"]=(0,l.getSdrnIdWithContentType)(this.activity.opts.clientId,this.activity.contentType,this.activity.contentId)+(":element:"+e.getAttribute("data-engage-entity-id")),i.data.object["@type"]="UIElement",i.addCustomData("primary",{"spt:position":e.hasAttribute("data-engage-position")?e.getAttribute("data-engage-position"):null,"spt:source":e.hasAttribute("data-engage-source")?e.getAttribute("data-engage-source"):null,"spt:isImpression":!0}),i.queue();this.activity.sendQueue()},u.prototype.destroy=function(){var t;for(this.sendInterval&&window.clearInterval(this.sendInterval),(0,l.unbind)(window,"scroll",this.throttledFindNewElementsInViewport),(0,l.unbind)(window,"resize",this.throttledFindNewElementsInViewport),t=0;t<this.possibleElementsInViewport.length;t++)this.possibleElementsInViewport[t].removeAttribute("data-engage-already-sent");this.possibleElementsInViewport=[],this.elementsToSend=[]},e.default=u},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var n=i(19),r=i(11),o=i(28),s=i(27),a=i(63);t.exports=function(t,e){var i=1==t,u=2==t,c=3==t,d=4==t,l=6==t,p=5==t||l,h=e||a;return function(e,a,f){for(var g,v,y=o(e),m=r(y),b=n(a,f,3),w=s(m.length),I=0,j=i?h(e,w):u?h(e,0):void 0;w>I;I++)if((p||I in m)&&(g=m[I],v=b(g,I,y),t))if(i)j[I]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return I;case 2:j.push(g)}else if(d)return!1;return l?-1:c||d?d:j}}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){var n=i(16);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var n=i(71),r=i(76);t.exports=i(10)?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(4),r="__core-js_shared__",o=n[r]||(n[r]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,i){var n=i(7);t.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e,i){var n=i(11),r=i(20);t.exports=function(t){return n(r(t))}},function(t,e,i){var n=i(25),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,e,i){var n=i(20);t.exports=function(t){return Object(n(t))}},function(t,e,i){(function(e){function i(t,e,i){function n(e){var i=g,n=v;return g=v=void 0,k=e,m=t.apply(n,i)}function o(t){return k=t,b=setTimeout(d,e),O?n(t):m}function s(t){var i=t-w,n=t-k,r=e-i;return T?j(r,y-n):r}function c(t){var i=t-w,n=t-k;return void 0===w||i>=e||i<0||T&&n>=y}function d(){var t=S();return c(t)?l(t):void(b=setTimeout(d,s(t)))}function l(t){return b=void 0,E&&g?n(t):(g=v=void 0,m)}function p(){void 0!==b&&clearTimeout(b),k=0,g=w=v=b=void 0}function h(){return void 0===b?m:l(S())}function f(){var t=S(),i=c(t);if(g=arguments,v=this,w=t,i){if(void 0===b)return o(w);if(T)return b=setTimeout(d,e),n(w)}return void 0===b&&(b=setTimeout(d,e)),m}var g,v,y,m,b,w,k=0,O=!1,T=!1,E=!0;if("function"!=typeof t)throw new TypeError(u);return e=a(e)||0,r(i)&&(O=!!i.leading,T="maxWait"in i,y=T?I(a(i.maxWait)||0,e):y,E="trailing"in i?!!i.trailing:E),f.cancel=p,f.flush=h,f}function n(t,e,n){var o=!0,s=!0;if("function"!=typeof t)throw new TypeError(u);return r(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),i(t,e,{leading:o,maxWait:e,trailing:s})}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function o(t){return!!t&&"object"==typeof t}function s(t){return"symbol"==typeof t||o(t)&&w.call(t)==d}function a(t){if("number"==typeof t)return t;if(s(t))return c;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var i=h.test(t);return i||f.test(t)?g(t.slice(2),i?2:8):p.test(t)?c:+t}var u="Expected a function",c=NaN,d="[object Symbol]",l=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,f=/^0o[0-7]+$/i,g=parseInt,v="object"==typeof e&&e&&e.Object===Object&&e,y="object"==typeof self&&self&&self.Object===Object&&self,m=v||y||Function("return this")(),b=Object.prototype,w=b.toString,I=Math.max,j=Math.min,S=function(){return m.Date.now()};t.exports=n}).call(e,i(30))},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t){t=t||{},t.pageUnload===!0&&(_.queue.loadFromLocalStorage(),(0,g.pageUnload)(_)),t.hashChange===!0&&(0,g.hashChange)(_),t.engagementTime===!0&&(0,S.default)(_,t.engageOpts),t.impressionTracking===!0&&(0,O.default)(_,t.engageOpts),t.articleEngage===!0&&(_.engage=(0,E.default)(_,t.engageOpts)),t.pageEngage===!0&&(_.engage=(0,P.default)(_,t.engageOpts)),t.engagement===!0&&y.engagement(_),t.clickButton===!0&&f.button(_),t.pageLoad!==!1&&(0,g.pageLoad)(_)}function s(t){A!==!0&&(A=!0,o(t.trackingFeatures),b.impliedEvents(_))}function a(){try{for(var t,e=null,i=null;e=U.shift();){t=_;try{for(;i=e.shift();)if(i instanceof Array){var n=i[0],r=i.slice(1);t=t[n].apply(t,r)}else"string"==typeof i&&(t=t[i])}catch(t){(0,C.debug)("track.js: Pulse2 call queue execution failed: "+t,_.opts.debugMode)}}}catch(t){(0,C.debug)("track.js: Pulse2 call queue execution failed: "+t,_.opts.debugMode)}}function u(t,e){var i=t.throttle||1;if(e===!0&&(A=!1),Math.random()<i)return _=new I.default(t),"complete"===document.readyState||"interactive"===document.readyState?s(t):(window.addEventListener("DOMContentLoaded",function(){s(t)},!1),window.addEventListener("load",function(){s(t)},!1)),setTimeout(a,10),U.push=function(){return Array.prototype.push.apply(this,arguments),setTimeout(a,1),this.length},_.getPageViewId()}function c(){return _.getPageViewId()}function d(){_.userLogout()}function l(t){_.userLogin(t)}function p(){return _}Object.defineProperty(e,"__esModule",{value:!0}),e.callQueue=void 0,e.initTracking=u,e.getPageViewId=c,e.logoutEvent=d,e.loginEvent=l,e.activity=p;var h=i(34),f=r(h),g=i(40),v=i(36),y=r(v),m=i(37),b=r(m),w=i(41),I=n(w),j=i(35),S=n(j),k=i(38),O=n(k),T=i(33),E=n(T),x=i(39),P=n(x),C=i(1),_={},A=!1,U=(window.AutoTrack||{}).callQueue||[];e.callQueue=U},function(t,e,i){"use strict";function n(t){var e=new Image,i=t.url+"?r="+Math.random();t.userId&&(i+="&id="+t.userId),e.src=i}Object.defineProperty(e,"__esModule",{value:!0}),e.initCookieSync=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=i(42).default,r=new n(t,e);return r.initialize(),r}},function(t,e,i){"use strict";function n(t){document.addEventListener("click",function(e){var i=e.target||e.srcElement;/.*track-click.*/.test(i.className)&&t.events.trackClick(i.id).send()},!1)}Object.defineProperty(e,"__esModule",{value:!0}),e.button=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=i(13).default;return new n(t,e).initialize()}},function(t,e,i){"use strict";function n(t){document.addEventListener("click",function(e){var i=e.target||e.srcElement;/.*track-engagement.*/.test(i.className)&&t.events.trackEngagement((0,r.getViewDuration)(),(0,r.getScrollPosition)(),"Click",i.tagName,i.id,i.getAttribute("p2-action"),i.getAttribute("p2-meta")).send()},!1)}Object.defineProperty(e,"__esModule",{value:!0}),e.engagement=n;var r=i(0)},function(t,e,i){"use strict";function n(t){function e(t,e,i){return t[e]?t[e]:i}var i=t.opts.impliedEvents;i&&i.map(function(i){var n;switch(n=i.params,i.track.toLowerCase()){case"create":t.events.trackCreate(e(n,0),e(n,1),e(n,2,{})).send();break;case"login":t.events.trackLogin(e(n,0),e(n,1),e(n,2,{})).send();break;case"logout":t.events.trackLogout(e(n,0),e(n,1),e(n,2,{})).send();break;case"reply":t.events.trackReply(e(n,0),e(n,1),e(n,2,{})).send();break;case"update":t.events.trackUpdate(e(n,0),e(n,1),e(n,2,{})).send();break;case"refer":t.events.trackRefer(e(n,0),e(n,1),e(n,2,{})).send();break;case"report":t.events.trackReport(e(n,0),e(n,1),e(n,2,{})).send()}})}Object.defineProperty(e,"__esModule",{value:!0}),e.impliedEvents=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=i(15).default;return new n(t,e).initialize()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=i(49).default,r=new n(t,e);return r.initialize(),r}},function(t,e,i){"use strict";function n(t){t.events.trackContentView().send()}function r(t){document.addEventListener("hashchange",function(){t.events.trackContentView().send()},!1)}function o(t){function e(){n||(n=!0,t.events.trackEngagementTime((0,s.dateNow)()-i).queue(),t.events.trackExit().queue(),t.queue.persistToLocalStorage())}var i=(0,s.dateNow)(),n=!1;document.addEventListener("click",function(e){var r,o,a,u;n&&(n=!0,r=e.target,"a"===r.tagName.toLowerCase()&&(o=r.getAttribute("href"),a=/^https?:\/\//i,o.match(a)&&(t.events.trackEngagementTime((0,s.dateNow)()-i).queue(),u=t.events.trackExit("sdrn:exit:"+o,"Page"),u.addProperty("secondary","url",o),u.queue(),t.sendQueue())))},!1),window.addEventListener("beforeunload",e),window.addEventListener("unload",e,!1)}Object.defineProperty(e,"__esModule",{value:!0}),e.pageLoad=n,e.hashChange=r,e.pageUnload=o;var s=i(0)},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(this.utils=d,this.pulse2timing={init:(0,c.dateNow)()},!t)throw new Error("options object is required");if(!t.clientId)throw new Error("clientId is required");t.optOut||(this.optOut=!1,this.waitForOptOut=!1,t.waitForOptOut&&(this.optOut="wait",this.waitForOptOut=!0),this.vars=T,this.version=E,this.clientId=("sdrn:schibsted:client:"+t.clientId).toLowerCase(),t.url?(this.url=t.url+"/"+this.clientId,this.pixelUrl=t.url):(this.url=this.vars.envVars.dataCollectorUrl+"/"+this.clientId,this.pixelUrl=this.vars.envVars.dataCollectorUrl),this.pageViewId=(0,c.getUuidV4)(),this.pixel=new f.default(this.pixelUrl,"pulse2",t.pixelThrottle),this.pixel.initPulsePixel(this.pageViewId,this.clientId),this.pulse2timing={pixelDone:(0,c.dateNow)()},t.transport?this.transport=t.transport:this.transport=new v.default,t.respectDoNotTrack===!0&&navigator&&1===parseInt(navigator.doNotTrack,10)?this.allowTracking=!1:this.allowTracking=!0,this.opts=t,this.contentId=t.contentId||t.pageId||encodeURIComponent(document.location),this.contentType=t.contentType||t.pageType||"Content",this.userIdDomain=t.userIdDomain,this.noRedirect=!0,this.enrichmentFailed=!1,this.queue=new m.default(100,{persistOnUpdate:(t.trackingFetatures||{}).persistAllEvents}),this.events=new u.default(this),this.user=new p.default({userId:this.opts.userId,userIdDomain:this.opts.userIdDomain,userServiceUrl:this.opts.userServiceUrl,noRedirect:this.noRedirect,transport:this.transport,utils:this.utils,waitForOptOut:this.waitForOptOut,jwe:this.opts.jwe}),this.plugins=new w.default(this.opts),this.trigger=new j.default(this.opts,this.plugins),this.initIds(function(){}),this.plugins.call(this.plugins.sdkLoad,this))}Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),a=i(48),u=r(a),c=i(0),d=n(c),l=i(55),p=r(l),h=i(50),f=r(h),g=i(9),v=r(g),y=i(47),m=r(y),b=i(51),w=r(b),I=i(54),j=r(I),S=i(43),k=r(S),O=i(8),T=n(O);i(56),i(57),i(59),i(58);var E="3.1.5";o.prototype.initIds=function(t){var e=this;t=t||function(){},this.opts.hybridAppMode&&!this.opts.jwe||((0,s.debug)("Fetching Ids"),this.pulse2timing.fetchIds=(0,c.dateNow)(),this.user.getUserId(function(i,n){e.idsDoneCallback(i,n,t),e.plugins.call(e.plugins.sdkReady,e)}))},o.prototype.registerPlugin=function(t,e,i){this.plugins.on(t,e,i)},o.prototype.unRegisterPlugin=function(t,e,i){this.plugins.off(t,e,i);
},o.prototype.idsDoneCallback=function(t,e,i){var n=this;return t?((0,s.debug)("Failed to fetch ids from CIS "+t),delete this.envId):(this.userId||(this.userId=e.userId),this.envId=e.envId),this.pulse2timing.receivedIds=(0,c.dateNow)(),this.waitingToTransmitQueue=!1,this.sendQueue(),this.user.syncIdsWithServer(function(){return new k.default(n.user).start()}),new k.default(this.user).start(),this.doPixelSync(),i(e)},o.prototype.doPixelSync=function(){var t,e="https://secure.adnxs.com/getuid?https://cis.schibsted.com/api/v1/sync?ANID=$UID";this.user.shouldSyncWithAn&&(this.user.shouldSyncWithAn=!1,this.user.setAnIdUnresolved(),t=new f.default(e,"pulse2an",1),t.initPixel())},o.prototype.sendQueue=function(t){var e,i,n=this;if(t=t||function(){},!this.queue.count())return t("no items in queue");if(!this.allowTracking)return t("tracking not allowed");if(this.plugins.call(this.plugins.eventCreated,this.queue.peekAll()),"send"!==this.isUserInfoResolved()||"send"!==this.optOutAction())return this.waitingToTransmitQueue=!0,t("not ready to send");for((0,s.debug)("Sending queue"),i=this.queue.dequeueAll(),e=0;e<i.length;e++)this.enrichEvents(i[e]);this.enrichmentFailed||(this.plugins.call(this.plugins.eventReady,i),this.transport.post(this.url,i,function(e){e?((0,s.debug)("Failed to send queue"),n.queue.enqueueMany(i),t(e)):(n.plugins.call(n.plugins.eventSent,i),t(null,!0))}))},o.prototype.send=function(t,e){var i=this;return e||(e=function(){}),this.allowTracking?(this.plugins.call(this.plugins.eventCreated,t),"send"!==this.isUserInfoResolved()||"send"!==this.optOutAction()?(this.queue.enqueue(t),this.waitingToTransmitQueue=!0,e("not ready to send")):((0,s.debug)("Sending object"),this.enrichEvents(t),void(this.enrichmentFailed||(this.plugins.call(this.plugins.eventReady,t),this.transport.post(this.url,[t],function(n){n?((0,s.debug)("Failed to send object"),i.queue.enqueue(t),e(n)):(i.plugins.call(i.plugins.eventSent,t),e(null,!0))}))))):e("tracking not allowed")},o.prototype.optOutAction=function(){return this.waitForOptOut&&"wait"===this.optOut?"wait":this.waitForOptOut&&this.optOut?"discard":"send"},o.prototype.setOptOut=function(t,e){return this.optOut=t,this.waitingToTransmitQueue=!1,this.sendQueue(e)},o.prototype.isUserInfoResolved=function(){return"undefined"==typeof this.envId?"SDK: Waiting for envId":this.envId.indexOf("undefined")>-1?(delete this.envId,"SDK: Waiting for envId"):this.user.doTracking===!1?"CIS: user has opted out":"send"},o.prototype.enrichEvents=function(t){this.addTheIds(t),t.tracker.performance&&(t.tracker.performance.pulse2.sendEvents=(0,c.dateNow)()),this.user&&this.user.localCookieNotSet&&(t.tracker.localCookieNotSet=!0)},o.prototype.addTheIds=function(t){var e=this.user.getTheEnvironmentId(),i=this.user.getTheUserId(),n=this.user.getTheJwe(),r=(0,c.objectKeys)(this.user.idObj.altEnvIds||{});if(e&&"undefined"!==e){if(0!==String(e).indexOf("sdrn:")){if(e.length>40)return void this.deleteEnvId();t.device.environmentId="sdrn:schibsted:environment:"+e}else{if(e.length>70)return void this.deleteEnvId();t.device.environmentId=e}n&&(t.device.jweIds=n),i&&(t.actor=t.actor||{},t.actor["@id"]=i,t.actor["spt:userId"]=i),r&&r.length>0&&(r=r.map(function(t){return 0!==String(t).indexOf("sdrn:")?"sdrn:schibsted:environment:"+t:t}),t.device.additionalEnvironmentIds=r)}},o.prototype.deleteEnvId=function(){this.enrichmentFailed=!0,delete this.user.idObj.envId,this.refreshUserIds()},o.prototype.getPageViewId=function(){return this.pageViewId},o.prototype.setNewPageViewId=function(){this.pageViewId=(0,c.getUuidV4)()},o.prototype.userLogout=function(){delete this.user.idObj.userId,this.refreshUserIds()},o.prototype.userLogin=function(t){this.user.idObj.userId=t,this.refreshUserIds()},o.prototype.refreshUserIds=function(){this.waitingToTransmitQueue=!0,this.user.didSync=!1,this.initIds()},o.prototype.setJWE=function(t){this.opts.hybridAppMode&&(this.opts.jwe=t,this.user.opts.jwe=t,this.initIds())},e.default=o},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(){var t,e,i=document.getElementsByTagName("meta"),n=null;for(e=0;e<i.length;e++)if(t=i[e].getAttribute("property"),"og:image"===t){n=i[e].content;break}return n}function o(t){return"object"!==u(t.previewUrl)&&(t.previewUrl={}),t.previewUrl={http:t.previewUrl.http||null,https:t.previewUrl.https||null},t.imageUrl=t.imageUrl||r(),t.title=t.title||window.document.title,t.shareUrl=t.shareUrl||{},t.shareUrl={facebook:t.shareUrl.facebook||t.permalink,twitter:t.shareUrl.twitter||t.permalink},t}function s(t){var e,i=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/,n=["month","hour","minutes","seconds","ms","zoneHour","zoneMinutes"],r=0,o=i.exec(t);if(!o)throw new Error("Not ISO8601 date "+t);for(o={year:o[1],month:o[2],day:o[3],hour:o[4],minutes:o[5],seconds:o[6],ms:o[7],zoneUTC:o[8],zoneModifier:o[9],zoneHours:o[10],zoneMinutes:o[11]},e=0;e<n.length;e++)o[n[e]]=Number(o[n[e]])||0;return o.month=(Number(o.month)||1)-1,o.day=Number(o.day)||1,"Z"!==o.zoneUTC&&"undefined"!=typeof o.zoneModifier&&(r=60*o.zoneHours+o.zoneMinutes,"+"===o.zoneModifier&&(r=0-r)),new Date(Date.UTC(o.year,o.month,o.day,o.hour,o.minutes+r,o.seconds,o.ms))}function a(t,e){(0,f.requiredAttribute)(e,"site"),(0,f.requiredAttribute)(e,"published"),(0,f.requiredAttribute)(e,"device"),e=o(e),this.activity=t,Object.assign(this,e),this.history=new p.default(this.referrer),this.setMetadata(e),(0,h.conditionallyAddOverlayTool)(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=i(13),d=n(c),l=i(14),p=n(l),h=i(45),f=i(0);a.prototype.initialize=function(){this.registerLifeCyclePlugins(),this.createEngagementTime()},a.prototype.registerLifeCyclePlugins=function(){this.activity.registerPlugin("eventCreated",{view:this.attatchEngageDataToPageViews.bind(this)}),this.activity.registerPlugin("eventCreated",{engagement:this.attatchEngageDataToPageViews.bind(this)})},a.prototype.unRegisterLifeCyclePlugins=function(){this.activity.unRegisterPlugin("eventCreated",{view:this.attatchEngageDataToPageViews.bind(this)}),this.activity.unRegisterPlugin("eventCreated",{engagement:this.attatchEngageDataToPageViews.bind(this)})},a.prototype.setMetadata=function(t){var e,i,n,r,o;if(t.group&&t.group.length>256)throw new Error("Group can not be longer then 256 characters");if(t.articleContainer&&!t.articleContainer.nodeName)throw new Error("articleContainer must be a DOM node");if(!t.updated||t.updated instanceof Date?this.updated=t.updated||null:this.updated=s(t.updated),t.published instanceof Date?this.published=t.published:this.published=s(t.published),Object.assign(this,{articleId:this.activity.contentId,category:t.category||null,group:t.group||null,authors:t.authors||[],wordCount:t.wordCount||null,scrollContainer:t.scrollContainer||null,articleContainer:t.articleContainer||null,previewUrl:t.previewUrl}),e=this.history.evaluateReferringArticle(),this.isReferrerArticle=Boolean(e),this.referrerId=e?e.articleId:this.history.getReferrer(),this.previousReferrer=e?e.referrer:null,i=this.history.evaluateReferringPage(),i&&(this.isReferrerArticle=!1,this.referrerId=i.pageId||this.history.getReferrer(),this.previousReferrer=i.referrer||null,i.experiments&&i.experiments.length))for(this.experiments=this.experiments||[],n=0;n<i.experiments.length;n++)this.experiments.push(i.experiments[n]);r=this.history.evaluateReferringExperiment(),r&&(this.experiments=this.experiments||[],this.experiments.push(r.experiment)),o=this.history.evaluateReferringImpression(),o?this.referringImpression=o.impression:this.referringImpression=null,this.history.setArticle(this)},a.prototype.attatchEngageDataToPageViews=function(t){var e,i;return e=this.updated?(0,f.dateToISO)(this.updated):null,t.provider["spt:engage"]=this.site,i={"spt:site":this.site,"spt:url":this.history.getUrl(),"spt:articleId":this.articleId,"spt:group":this.group,"spt:device":this.device,"spt:permalink":this.permalink,"spt:shareUrl":this.shareUrl,"spt:previewUrl":this.previewUrl,"spt:published":(0,f.dateToISO)(this.published),"spt:updated":e,"spt:authors":this.authors,"spt:wordCount":this.wordCount,"spt:imageUrl":this.imageUrl,"spt:referrer":this.history.getReferrer(),"spt:isReferrerArticle":this.isReferrerArticle,"spt:referrerId":this.referrerId,"spt:previousReferrer":this.previousReferrer,"spt:referringImpression":this.referringImpression},Object.assign(t.object["spt:custom"],i),t},a.prototype.getReferrerInfo=function(){return{referrer:this.history.getReferrer(),isReferrerArticle:this.isReferrerArticle,referrerId:this.referrerId,previousReferrer:this.previousReferrer}},a.prototype.createEngagementTime=function(){this.engagementTime||(this.engagementTime=new d.default(this.activity,{pageViewId:this.activity.getPageViewId(),device:this.device,group:this.group,wordCount:this.wordCount,url:this.history.getUrl(),referrerInfo:this.getReferrerInfo(),scrollContainer:this.scrollContainer,articleContainer:this.articleContainer}),this.engagementTime.initialize())},a.prototype.destroy=function(){this.engagementTime&&(this.unRegisterLifeCyclePlugins(),this.engagementTime.destroy(),this.engagementTime=null)},e.default=a},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){this.referenceUrls=t.referenceUrls,this.user=t,this.transport=t.transport||new s.default,this.pointer=0}Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),s=n(o),a=i(0);r.prototype.start=function(){this.referenceUrls&&Array.isArray(this.referenceUrls)&&this.callCurrentIDService()},r.prototype.callCurrentIDService=function(){var t=this;this.pointer>20||this.referenceUrls.length<=this.pointer||!this.referenceUrls[this.pointer]||this.transport.get("https://"+this.referenceUrls[this.pointer]+"/api/v1/pulse",null,function(e,i){return t.handleResponse(e,i)},1,!0)},r.prototype.handleResponse=function(t,e){var i;if(this.pointer++,!t&&e&&e.responseText){try{i=JSON.parse(e.responseText)}catch(t){return}return i&&i.pulse2data?(this.cacheOldEnvironmentId(this.user.idObj.envId),void this.user.replaceCookieValue(i.pulse2data)):void this.callCurrentIDService()}},r.prototype.cacheOldEnvironmentId=function(t){var e,i,n,r,o,s,u={};if(this.user.idObj.altEnvIds=this.user.idObj.altEnvIds||{},this.user.idObj.altEnvIds[t]=(0,a.dateNow)(),e=Object.keys(this.user.idObj.altEnvIds),e.length>5){for(i=0;i<e.length;i++){for(o=this.user.idObj.altEnvIds[e[i]],r=0,n=0;n<e.length;n++)i!==n&&(s=this.user.idObj.altEnvIds[e[n]],parseInt(o,10)>parseInt(s,10)&&r++);r>=e.length-5&&(u[e[i]]=o)}this.user.idObj.altEnvIds=u}},e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return function(){}}},function(t,e,i){"use strict";function n(t,e){var i=void 0;window.loadOverlayToolCallback=function(t){var i=void 0;t.jwt&&(i=document.createElement("script"),i.src=o,i.type="text/javascript",i.onload=function(){new window.EngageOverlay({site:t.newsroom,jwt:t.jwt,userId:t.userId,articleId:e})},document.body.appendChild(i))},i=document.createElement("script"),i.src="https://engage-auth.schibsted.media/jwt/"+encodeURIComponent(t)+"?callback=loadOverlayToolCallback",i.type="text/javascript",document.body.appendChild(i)}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.enableOverlay,r=e.device,o=e.site;i&&"Article"===t.contentType&&"mobile"!==r&&n(o,t.contentId)}Object.defineProperty(e,"__esModule",{value:!0}),e.loadOverlayTool=n,e.conditionallyAddOverlayTool=r;var o="//engage-cdn.schibsted.media/js/overlay/latest/overlay.min.js"},function(t,e,i){"use strict";function n(t,e){if(!t)throw new Error("data required");try{this.data=t.getSchema()}catch(t){throw new Error("get schema function required")}if(!t.activity)throw new Error("data must have property activity");this.activity=t.activity,this.objectOrder=e||[]}Object.defineProperty(e,"__esModule",{value:!0}),n.prototype.queue=function(){this.activity.queue.enqueue(this.data)},n.prototype.send=function(t){this.activity.send(this.data,t)},n.prototype.addProperty=function(t,e,i){var n=this.getObjectKey(t);return this.data[n][e]=i,this},n.prototype.addCustomData=function(t,e){var i=this.getObjectKey(t);return this.data[i]["spt:custom"]=e,this},n.prototype.getObjectKey=function(t){if("primary"===t)return this.objectOrder[0];if("secondary"===t)return this.objectOrder[1];if("tertiary"===t)return this.objectOrder[2];throw new Error("Object reference not valid")},e.default=n},function(t,e,i){"use strict";function n(t,e){if(!t)throw new Error("size of the queue must be given");this.options=e||{},this.maxSize=t,this.queue=[],this.options.loadFromLocalStorage&&this.loadFromLocalStorage()}Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),o="_pulse2-queue";n.prototype.persistToLocalStorage=function(){try{(0,r.checkLocalStorage)(),localStorage.setItem(o,JSON.stringify(this.queue))}catch(t){}},n.prototype.loadFromLocalStorage=function(){var t;try{(0,r.checkLocalStorage)(),t=JSON.parse(localStorage.getItem(o)),t&&(0,r.isArray)(t)&&(this.queue=this.queue.concat(t))}catch(t){}},n.prototype.enqueue=function(t){this.queue.push(t),this.queue.length>this.maxSize&&this.queue.shift(),this.options.persistOnUpdate&&this.persistToLocalStorage()},n.prototype.enqueueMany=function(t){if(!(0,r.isArray)(t))throw new Error("elements must be an array");this.queue=this.queue.concat(t),this.queue.length>this.maxSize&&(this.queue=this.queue.slice(this.queue.length-this.maxSize,this.queue.length)),this.options.persistOnUpdate&&this.persistToLocalStorage()},n.prototype.dequeue=function(){var t=this.queue.shift();return this.options.persistOnUpdate&&this.persistToLocalStorage(),t},n.prototype.dequeueAll=function(){var t=this.queue.splice(0,this.queue.length);return this.options.persistOnUpdate&&this.persistToLocalStorage(),t},n.prototype.peek=function(){return this.queue[0]},n.prototype.peekAll=function(){return this.queue},n.prototype.count=function(){return this.queue.length},e.default=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(!t)throw new Error("activity required");this.activity=t,this.opts=t.opts,this.contentId=t.contentId,this.contentType=t.contentType}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=i(46),a=n(s),u=i(53),c=n(u),d=i(0),l=i(1);r.prototype.getSdrnIdWithContentType=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.clientId,i=t.targetType,n=t.targetId;return n=n||this.activity.contentId,n&&n.indexOf&&0===n.indexOf("sdrn:")?n:(0,d.getSdrnIdWithContentType)(e||this.activity.opts.clientId,i||this.activity.contentType,n||this.activity.contentId)},r.prototype.trackContentView=function(t){var e=new c.default(this.activity);return e.type="View",e.object=this.addPageStandards(e.object),e.object.name=t||document.title,e.object.properties={},e.object.properties=this.reMapCustom(e.object.properties,"@type"),e.object.properties=this.reMapCustom(e.object.properties,"action"),e.object.properties=this.reMapCustom(e.object.properties,"item"),this.opts.filters&&(e.object.filters=this.opts.filters),document.referrer&&(e.origin={url:document.referrer}),this.opts.targetId&&this.opts.targetType&&(e.target={},e.target=this.addPageStandards(e.target,this.opts.targetId,this.opts.targetType)),e.tracker.trackingMethod="trackContentView",new a.default(e,["object","origin"])},r.prototype.trackBasic=function(t,e,i,n,r,s){var u=new c.default(this.activity);return e=e||"Content",i=i||"undefined",u.id=this.getSdrnIdWithContentType({targetType:e,targetId:i}),u.type=t||"View","object"===("undefined"==typeof n?"undefined":o(n))?u.addCustomDataToProperty(u.object,n):(0,l.debug)("events.js:trackBasic: objectMeta must be an object",u.activity.opts.debugMode),u.object["@id"]=this.getSdrnIdWithContentType({targetType:e,targetId:i}),u.object["@type"]=e,u.origin=this.addPageStandards(u.origin),e&&(u.object=this.addPageStandards(u.object,i,e)),r&&(u.schema.intent=r),s&&(u.provider=Object.assign({},u.provider,s)),u.tracker.trackingMethod="trackBasic",new a.default(u,["object","origin"])},r.prototype.trackCreate=function(t,e,i){var n=this.trackBasic("Create",t,e,i);return n.tracker=(n.tracker||{}).trackingMethod="trackCreate",n},r.prototype.trackUpdate=function(t,e,i){var n=this.trackBasic("Update",t,e,i);return n.tracker=(n.tracker||{}).trackingMethod="trackUpdate",n},r.prototype.trackSave=function(t,e,i){return this.trackBasic("Save",t,e,i)},r.prototype.trackUnsave=function(t,e,i){return this.trackBasic("Unsave",t,e,i)},r.prototype.trackReply=function(t,e,i){var n=new c.default(this.activity),r=t||"Message",o=e||this.opts.contentId;return n.type="Create",n.addCustomDataToProperty(n.object,i),n.object["@type"]=r,n.object["@id"]=this.getSdrnIdWithContentType({objectId:o,objectType:r}),n.origin=this.addPageStandards(n.origin),n.tracker.trackingMethod="trackReply",new a.default(n,["object","origin"])},r.prototype.trackRefer=function(t,e,i){var n=this.trackBasic("Refer",t,e,i);return n.tracker=(n.tracker||{}).trackingMethod="trackRefer",n},r.prototype.trackReport=function(t,e,i){var n=this.trackBasic("Report",t,e,i);return n.tracker=(n.tracker||{}).trackingMethod="trackReport",n},r.prototype.trackLogin=function(t,e,i){var n=this.trackBasic("Login",t,e,i);return n.tracker=(n.tracker||{}).trackingMethod="trackLogin",n},r.prototype.trackLogout=function(t,e,i){var n=this.trackBasic("Logout",t,e,i);return n.tracker=(n.tracker||{}).trackingMethod="trackLogout",n},r.prototype.trackClick=function(t,e,i,n,r){var o=new c.default(this.activity);return o.schema.schema="http://schema.schibsted.com/events/engagement-event.json/81.json#",o.type=r||"Engagement",o.origin=this.addPageStandards(o.origin),o.action="Click",o.object["@id"]=this.getSdrnIdWithContentType({targetId:n,targetType:i})+":element:"+t,o.object["@type"]="UIElement",o.object.name=e,o.schema.target={"@id":this.getSdrnIdWithContentType({targetType:i,targetId:n}),"@type":i},o.tracker.trackingMethod="trackClick",new a.default(o,["object","target"])},r.prototype.trackSocial=function(){return this.trackEngagement()},r.prototype.trackMediaState=function(t,e,i){var n=new c.default(this.activity);return n.type=i||"Watch",n.object={"@type":"UIElement","@id":this.getSdrnIdWithContentType()+":element:"+t,elementType:e},n.origin=this.addPageStandards(n.origin),n.tracker.trackingMethod="trackMediaState",new a.default(n,["object","origin"])},r.prototype.trackScroll=function(t){return this.trackEngagement(!1,t)},r.prototype.trackVisibility=function(t){var e=this.trackContentView();return e.data.object["@id"]=this.getSdrnIdWithContentType(this.activity.contentType,this.activity.contentId)+(":element:"+t),e.data.object["@type"]="UIElement",e},r.prototype.trackExit=function(t,e,i){var n=new c.default(this.activity);return n.type=i||"View",n.schema.intent="Close",n.object=this.addPageStandards(n.object),n.schema.target={},"undefined"!=typeof t&&"undefined"!=typeof e&&(n.schema.target={"@type":e,"@id":this.getSdrnIdWithContentType({targetType:e,targetId:t})}),n.tracker.trackingMethod="trackExit",new a.default(n,["object","target"])},r.prototype.trackEngagement=function(t,e,i,n,r,s,u){var p,h=new c.default(this.activity);if(h.schema.schema="http://schema.schibsted.com/events/engagement-event.json/81.json#",h.type="Engagement",h.origin=this.addPageStandards(h.origin),h.action=i,u){if(p=u,"string"==typeof u)try{p=JSON.parse(u)}catch(t){(0,l.debug)("Error parsing JSON: "+t,h.activity.opts.debugMode)}"object"===("undefined"==typeof p?"undefined":o(p))&&h.addCustomDataToProperty(h.object,p)}return n&&r?(h.object["@id"]=h.origin["@id"]+":element:"+r,h.object["@type"]="UIElement",h.object.elementType=n,h.object.action=s):h.object=this.addPageStandards(h.object),t||0===t?h.schema.duration=t:h.schema.duration=(0,d.getViewDuration)(),e||0===e?h.schema.scrollPosition=e:h.schema.scrollPosition=(0,d.getScrollPosition)(),h.tracker.trackingMethod="trackEngagement",new a.default(h,["object"])},r.prototype.trackEngagementTime=function(t,e,i){return this.trackEngagement(t,i)},r.prototype.trackCustomEvent=function(t,e,i){var n=new c.default(this.activity);return n.type=e||"View",n.object=this.addPageStandards(n.object),"object"===("undefined"==typeof i?"undefined":o(i))&&n.addCustomDataToProperty(n.object["spt:custom"],i),t&&(n.provider.eventIdentifier=t),n.tracker.trackingMethod="trackCustomEvent",new a.default(n,["object"])},r.prototype.trackCustom=function(t,e){var i=new c.default(this.activity);return i.type="CustomEvent",i.subtype=t&&!~t.indexOf("custom:")?"custom:".concat(t):t||"custom:Content",i.object=this.addPageStandards(i.object),i.schema.schema="http://schema.schibsted.com/events/custom-event.json/31.json#","object"===("undefined"==typeof e?"undefined":o(e))&&(i.custom=e),i.tracker.trackingMethod="trackCustom",new a.default(i,["object"])},r.prototype.addPageStandards=function(t,e,i){return e=e||this.activity.contentId,i=i||this.activity.contentType,t=t||{},t["@type"]=i,String(this.activity.contentId).indexOf("sdrn:")>-1?t["@id"]=e:t["@id"]=this.getSdrnIdWithContentType({targetType:i,targetId:e}),t.contentId=e,t.url=document.URL,t.name=document.title,this.opts.inLanguage&&(t.inLanguage=this.opts.inLanguage),this.opts.tags&&(0,d.isArray)(this.opts.tags)&&(t.tags=this.opts.tags),this.validateAndSet(t,"adType",this.opts.adType,"string"),this.validateAndSet(t,"location",this.opts.contentLocation,"object"),this.validateAndSet(t,"publisher",this.opts.publisher,"object"),this.validateAndSet(t,"publisherType",this.opts.publisherType,"string"),this.validateAndSet(t,"images",this.opts.images,"object"),this.validateAndSet(t,"creationDate",this.opts.creationDate,"string"),this.validateAndSet(t,"price",parseInt(this.opts.price,10),"number"),this.validateAndSet(t,"currency",this.opts.currency,"string"),this.validateAndSet(t,"items",this.opts.items,"object"),this.addCategoryToEvents(t)},r.prototype.validateAndSet=function(t,e,i,n){if(e&&i)return n&&("undefined"==typeof i?"undefined":o(i))!==n?(console.log("not valid"+e+" : "+n),void(0,l.debug)(e+" is not of type "+n,this.activity.opts.debugMode)):void(t[e]=i)},r.prototype.addCategoryToEvents=function(t){var e=this.activity.opts,i="";return e.provider=e.provider||{},e.object=e.object||{},e.category?i=e.category:e.object.category?i=e.object.category:e.provider.category&&(i=e.provider.category),(0,d.isArray)(i)&&(i=i.toString()),i&&(t.category=i),t},r.prototype.getDomainFromUrl=function(t){var e=t.match(/^https?\:\/\/(www.)?([^\/:?#]+)(?:[\/:?#]|$)/i);return e&&e[2]},r.prototype.reMapCustom=function(t,e,i){return i!==!1&&(i=!0),this.opts.object&&this.opts.object.properties&&this.opts.object.properties[e]?(t[e]=this.opts.object.properties[e],i&&delete this.opts.object.properties[e],t):t},e.default=r},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!e.previewUrl||!e.previewUrl.http)throw new Error("previewUrl.http is required");if(!e.previewUrl||!e.previewUrl.https)throw new Error("previewUrl.https is required");(0,c.requiredAttribute)(e,"site"),(0,c.requiredAttribute)(e,"device"),(0,c.requiredAttribute)(e,"permalink"),this.activity=t,Object.assign(this,e),this.history=new u.default(this.referrer)}Object.defineProperty(e,"__esModule",{value:!0});var o=i(15),s=n(o),a=i(14),u=n(a),c=i(0);r.prototype.initialize=function(){this.createImpressions(),this.history.setPage(this),this.registerLifeCyclePlugins()},r.prototype.registerLifeCyclePlugins=function(){this.activity.registerPlugin("eventCreated",{view:this.attatchEngageDataToPageViews.bind(this)}),this.activity.registerPlugin("eventCreated",{uielement:this.attatchEngageDataToPageViews.bind(this)})},r.prototype.unRegisterLifeCyclePlugins=function(){this.activity.unRegisterPlugin("eventCreated",{view:this.attatchEngageDataToPageViews.bind(this)}),this.activity.unRegisterPlugin("eventCreated",{uielement:this.attatchEngageDataToPageViews.bind(this)})},r.prototype.attatchEngageDataToPageViews=function(t){var e={"spt:site":this.site,"spt:url":this.history.getUrl(),"spt:pageId":this.activity.contentId,"spt:device":this.device,"spt:permalink":this.permalink,"spt:shareUrl":this.shareUrl,"spt:previewUrl":this.previewUrl,"spt:imageUrl":this.imageUrl,"spt:referrer":this.history.getReferrer()};return this.experiments&&(event.data.experiments=this.experiments),Object.assign(t.object["spt:custom"],e),t},r.prototype.createImpressions=function(){this.impressions||(this.impressions=new s.default(this.activity),this.impressions.initialize())},r.prototype.destroy=function(){this.impressions&&(this.unRegisterLifeCyclePlugins(),this.impressions.destroy(),this.impressions=null)},e.default=r},function(t,e,i){"use strict";function n(t,e,i){this.collectorBaseUrl=t,this.service=e||"pulse2",this.clientId="",this.pageViewId="",this.throttle=.1,i>=0&&(this.throttle=i)}Object.defineProperty(e,"__esModule",{value:!0}),n.prototype.initPulsePixel=function(t,e){this.clientId=e,this.pageViewId=t,this.collectorBaseUrl=this.getImageTrackingUrl(this.collectorBaseUrl),this.createPulsePixelUrl(),this.initPixel()},n.prototype.initPixel=function(){Math.random()<this.throttle&&this.collectorBaseUrl&&this.injectPixel()},n.prototype.createPulsePixelUrl=function(){var t="?provider.@id="+this.clientId;t+="&service="+this.service,t+="&@type=Pixel",t+="&@id="+this.pageViewId,this.collectorBaseUrl+=t},n.prototype.injectPixel=function(){var t=this.createImgElement(),e=document.getElementsByTagName("body");e.item(0).appendChild(t)},n.prototype.getImageTrackingUrl=function(t){var e="",i=/\/api\/v[0-9]\/track$/;try{e=t.replace(i,"/img")}catch(t){return}if(t!==e&&e)return e},n.prototype.createImgElement=function(){var t=document.createElement("img");return t.src=this.collectorBaseUrl,t.id=this.service+"pixel",t.style.display="none",t},e.default=n},function(t,e,i){"use strict";function n(t){this.opts=t,this.plugins=window.pulse2plugins||[],this.hooks={eventCreated:this.plugins.eventCreatedHooks||[],eventReady:this.plugins.eventReadyHooks||[],eventSent:this.plugins.eventSentHooks||[],load:this.plugins.onLoadHooks||[],ready:this.plugins.onReadyHooks||[]},this.sdkReady="ready",this.sdkLoad="load",this.eventCreated="eventCreated",this.eventReady="eventReady",this.eventSent="eventSent"}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=i(0),s=i(1);n.prototype.call=function(t,e){switch(t){case this.eventCreated:case this.eventReady:case this.eventSent:return this.callEventHooks(e,this.hooks[t]);case this.sdkReady:case this.sdkLoad:return this.callSdkHooks(e,this.hooks[t]);default:return}},n.prototype.callEventHooksArray=function(t,e){var i,n=[];for(i=0;i<t.length;i++)n.push(this.callEventHooks(t[i],e));return n},n.prototype.callEventHooks=function(t,e){var i,n,r,a;if(e=e||[],(0,o.isArray)(t))return this.callEventHooksArray(t,e);if(!t["@type"])return t;for(a=0;a<e.length;a++)if(i=e[a],n=(0,o.objectKeys)(i)[0].toLowerCase(),"all"===n||n===t["@type"].toLowerCase())try{r=i[n](t),r&&(t=r)}catch(t){(0,s.debug)("plugins.js: A pulse2 sdk plugin failed: "+t,this.opts.debugMode)}return t},n.prototype.callSdkHooks=function(t,e){var i;if("object"===("undefined"==typeof e?"undefined":r(e))&&"object"===("undefined"==typeof t?"undefined":r(t)))for(i=0;i<e.length;i++)try{e[i](t)}catch(t){(0,s.debug)("plugins.js: A pulse2 event plugin failed: "+t,this.opts.debugMode)}},n.prototype.on=function(t,e,i){var n={};t&&e&&(i?n[i]=e:n=e,this.hooks[t].push(n))},n.prototype.off=function(t,e,i){if(t)return e?void(this.hooks[t]=this.hooks[t].filter(function(t){return i?t[i]!==e:t!==e})):void(this.hooks[t]=[])},e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.envVars={dataCollectorUrl:"https://collector.schibsted.io/api/v1/track",userServiceUrl:"https://cis.schibsted.com/api/v1/identify",errorReportingUrl:""}},function(t,e,i){"use strict";function n(t,e){if(!t)throw new Error("Activity needed");this.activity=t,this.reducedEvent=e,this.schema={},this.type=null,this.actor={},this.device={},this.provider={},this.object={},this.origin={},this.location={},this.tracker={},this.initSchema()}Object.defineProperty(e,"__esModule",{value:!0});var r=i(0);n.prototype.initSchema=function(){this.schema["@id"]=(0,r.getUuidV4)(),this.activity.opts.intent&&(this.schema.intent=this.activity.opts.intent),this.schema.pageViewId=this.activity.pageViewId,this.schema.creationDate=(0,r.getTimestamp)(),this.schema.schema="http://schema.schibsted.com/events/tracker-event.json/59.json",this.createTracker(),this.createDevice(),this.createProvider(),this.createObject(),this.createOrigin(),this.createLocation(),this.addCustomData()},n.prototype.populateSchema=function(){this.schema["@type"]=this.type,this.schema.subtype=this.subtype,this.schema.action=this.action,this.schema.tracker=this.tracker,this.schema.device=this.device,this.schema.provider=this.provider,this.schema.object=this.object,this.schema.origin=this.origin,this.schema.location=this.location,this.actor&&this.actor.hasOwnProperty("@id")&&(this.schema.actor=this.actor),this.target&&(this.schema.target=this.target),this.result&&(this.schema.result=this.result),this.scrollPosition&&(this.schema.scrollPosition=this.scrollPosition),this.duration&&(this.schema.duration=this.duration),this.custom&&(this.schema.custom=this.custom)},n.prototype.createDevice=function(){if(!this.reducedEvent){this.device.deviceType=(0,r.getDeviceType)(navigator.userAgent),this.device.acceptLanguage=(0,r.getDeviceLanguage)(),this.device.screenSize=window.screen.width+"x"+window.screen.height,this.device.userAgent=navigator.userAgent,this.device.viewportSize=(0,r.getViewportDimensions)();try{(0,r.checkLocalStorage)(),this.device.localStorageEnabled=!0}catch(t){this.device.localStorageEnabled=!1}}},n.prototype.createObject=function(){this.object["spt:custom"]={}},n.prototype.createOrigin=function(){},n.prototype.createTracker=function(){this.tracker.version=this.activity.version,this.tracker.type="JS",this.reducedEvent||this.extendedTrackerData()},n.prototype.extendedTrackerData=function(){this.tracker.performance={},this.tracker.performance.pulse2=this.activity.pulse2timing,this.tracker.name="Pulse v2 tracker JS SDK",window&&window.performance&&(this.tracker.performance.browser={},this.tracker.performance.browser=window.performance.timing)},n.prototype.createLocation=function(){this.activity.opts&&this.activity.opts.location&&(this.location["@type"]="Place",this.location.latitude=this.activity.opts.location.latitude,this.location.longitude=this.activity.opts.location.longitude,this.location.accuracy=this.activity.opts.location.accuracy)},n.prototype.createProvider=function(){this.provider["@type"]="Organization",this.provider["@id"]=this.activity.clientId,this.provider.url=document.URL,this.provider.product=this.activity.opts.product||this.activity.opts.clientId,this.provider.productType=this.activity.opts.productType,this.provider.component=this.activity.opts.component},n.prototype.addCustomData=function(){this.activity.opts&&(this.addCustomDataToProperty(this.provider,this.activity.opts.provider),this.addCustomDataToProperty(this.object["spt:custom"],this.activity.opts.object))},n.prototype.addCustomDataToProperty=function(t,e){var i;for(i in e)t.hasOwnProperty(i)||(t[i]=e[i])},n.prototype.getSchema=function(){
return this.populateSchema(),this.schema},n.prototype.getString=function(){return JSON.stringify(this.getSchema())},e.default=n},function(t,e,i){"use strict";function n(t,e){this.opts=t,this.plugins=e,this.registerTriggers()}Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),o=i(1);n.prototype.registerTriggers=function(){this.plugins&&this.plugins.on(this.plugins.sdkLoad,this.getUrlTriggers)},n.prototype.getUrlTriggers=function(t){var e,i,n,s,a,u,c=(0,r.getUrlParams)("p2param");for(i=0;i<c.length;i++){for(u={},s=c[i].split("."),n=s.slice(2),a=0;a<n.length;a++)try{n[a]=n[a].split("_"),u[n[a][0]]=n[a][1]}catch(t){(0,o.debug)("trigger.js: An error occurred while reading URL param: "+t,this.opts.debugMode)}e=t.events.trackCustomEvent(null,s[0],u),e.data.object.name=s[1],e.data.object["@id"]+=":elementId:"+s[1],e.send()}},e.default=n},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t){t=t||{},this.idObj={},this.cookieKey="_pulse2data",this.envCookieKey="_pulse2env",this.cookiesAllowed=navigator.cookieEnabled,this.anonIdPlaceholder="x",this.opts=t,this.userIdDomain=t.userIdDomain||"schibsted.com",this.userId=this.opts.userId,this.userId||(delete this.userId,delete this.opts.userId),this.visitorIdPlaceholder="v",this.redirectString="https://cis.schibsted.com/redirect/?redirectUrl="+document.location,this.userServiceUrl=t.userServiceUrl||d.envVars.userServiceUrl,this.transport=t.transport||new u.default,this.referenceUrls=null,this.noRedirect=!0,this.doValidation=!1,this.shouldSyncWithAn=!1,this.shouldFetchFromAn=!1,this.hasCookie=!1,this.anSyncUrl="https://secure.adnxs.com/getuidj",this.doTracking=!0,this.anSyncStatus="nothing has happened",this.didSync=!1,"undefined"!=typeof t.noRedirect&&(this.noRedirect=t.noRedirect)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),a=i(9),u=r(a),c=i(8),d=n(c);o.prototype.getUserId=function(t){var e;return t=t||function(){},e=this.getIdsFromCookie(),this.userId&&(e.userId=this.createUserIdWithSdrn(this.userId)),this.mapUserData(e),this.idObj.envId?t(null,this.idObj):this.syncIdsWithServer(t)},o.prototype.syncIdsWithServer=function(t){var e=this;t=t||function(){},!this.idObj.envId||this.userStatusHasChanged()||this.doValidation||setTimeout(function(){return e.doAppNexusSync()},2e3),this.doValidation!==!0&&this.idObj.envId||this.didSync!==!1||(this.didSync=!0,this.getIdsFromService({envId:!this.idObj.jwe&&this.idObj.envId,jwe:this.idObj.jwe,userId:this.idObj.userId},function(i,n){return e.onIdServiceResponse(i,n,t)})),this.doValidation=!1,this.doAppNexusSync(null,function(){return t(null,e.idObj)})},o.prototype.replaceCookieValue=function(t,e){var i=this.getIdsFromCookie(t,e);this.mapUserData(i),this.syncIdsWithServer(),this.setIdsInCookie()},o.prototype.mapUserData=function(t){var e,i,n=["undefined","false","0","","null"];this.idObj.userId=t.userId||this.idObj.userId,this.idObj.envId=t.environmentId||t.envId,this.idObj.altEnvIds=t.altEnvIds||this.idObj.altEnvIds,this.idObj.prevUserId=t.prevUserId,this.idObj.anId=t.anId||this.idObj.anId,this.idObj.jwe=this.opts.jwe||t.jwe||this.idObj.jwe,this.idObj.pixelInjected=t.pixelInjected||null,this.idObj.adId=t.adId||this.idObj.adId||null,t.doAnSync&&(this.shouldSyncWithAn=t.doAnSync),this.doTracking=this.resolveDoTracking(t.doTracking),this.idObj.userId&&(e=this.idObj.userId.split(":"),i=e[e.length-1],n.indexOf(i)>=0&&delete this.idObj.userId),this.setIdsInCookie()},o.prototype.setIdsInCookie=function(){var t,e=this.idObj.userId||this.anonIdPlaceholder,i=new Date,n=new Date,r=new Date,o=i.getTime();this.idObj.envId&&(i.setTime(o+9e5),n.setTime(o+144e5),r.setTime(o+63072e6),t=[this.idObj.envId,this.visitorIdPlaceholder,e,i.getTime(),this.idObj.jwe,this.idObj.anId,n.getTime(),this.doTracking.toString(),this.idObj.pixelInjected,this.idObj.adId],(0,s.deleteCookie)(this.cookieKey,document.domain),(0,s.writeCookie)(this.cookieKey,t,(0,s.broadenDomain)(document.domain),r.toUTCString()),this.idObj.altEnvIds&&(0,s.writeCookie)(this.envCookieKey,JSON.stringify(this.idObj.altEnvIds),(0,s.broadenDomain)(document.domain),r.toUTCString()))},o.prototype.getIdsFromCookie=function(t,e){var i,n,r=t||(0,s.getCookie)(this.cookieKey),o=e||(0,s.getCookie)(this.envCookieKey);if(!r||r.indexOf("undefined")!==-1)return(0,s.deleteCookie)(this.cookieKey),this.shouldSyncWithAn=!0,{};if(i=r.split(","),i.length<2)return(0,s.deleteCookie)(this.cookieKey),{};if(i[3]&&(0,s.dateNow)()>parseInt(i[3],10)&&(this.doValidation=!0,this.hasCookie=!0),i[6]&&(0,s.dateNow)()>parseInt(i[6],10)&&(this.shouldSyncWithAn=!0,this.doValidation=!1),i[5]&&"unresolved"!==i[8]||(i[8]="unresolved",this.shouldFetchFromAn=!0),n={environmentId:i[0],prevUserId:i[2],jwe:i[4],anId:i[5],doTracking:i[7],pixelInjected:i[8],adId:i[9]},o)try{n.altEnvIds=JSON.parse(o)}catch(t){}return n},o.prototype.getIdsFromService=function(t,e){var i=this,n=this.userServiceUrl,r=3,o={userId:t.userId,jwe:t.jwe};t.envId&&(o.environmentId=t.envId),t.anId&&(o.anId=t.anId),this.opts.waitForOptOut&&(o.waitForOptOut=this.opts.waitForOptOut),this.hasCookie&&(r=1),this.transport.post(n,o,function(t,n){var r;return t?void e(t):(r=JSON.parse(n.response||n.responseText),r.data.anid&&"0"!==r.data.anid||(r.data.doAnSync=!0),i.mapUserData(r.data),void e(null,r.data))},!0,r)},o.prototype.onIdServiceResponse=function(t,e,i){return t?void i(t):(e&&e.crossReference&&Array.isArray(e.crossReference)&&(this.referenceUrls=e.crossReference),this.hasCookie?(this.hasCookie=!1,i(null,this.idObj)):i(null,this.idObj))},o.prototype.userStatusHasChanged=function(){var t=this.idObj.userId,e=this.idObj.prevUserId;return!!e&&(t&&e!==t.toString()||!t&&e!==this.anonIdPlaceholder)},o.prototype.doAppNexusSync=function(t,e){var i=this;return e=e||function(){},this.shouldFetchFromAn?(this.shouldFetchFromAn=!1,void this.transport.get(this.anSyncUrl,null,function(t,n){var r,o;return t?e(t,n):(r=JSON.parse(n.response||n.responseText),o={jwe:i.idObj.jwe,userId:i.idObj.userId,anId:r.uid},i.idObj.anId=r.uid,i.mapUserData(i.idObj),i.setAnIdResolved(),i.getIdsFromService(o,function(t,n){return i.onIdServiceResponse(t,n,e)}),e())},1,!0)):t},o.prototype.setAnIdUnresolved=function(){this.idObj.pixelInjected="unresolved",this.setIdsInCookie(this.idObj)},o.prototype.setAnIdResolved=function(){this.idObj.pixelInjected=null,this.setIdsInCookie(this.idObj)},o.prototype.getTheUserId=function(){return this.createUserIdWithSdrn(this.idObj.userId)},o.prototype.getTheEnvironmentId=function(){return this.idObj.envId},o.prototype.getTheJwe=function(){return this.idObj.jwe},o.prototype.getTheAdId=function(){return this.idObj.adId},o.prototype.createUserIdWithSdrn=function(t,e){return!t||String(t).indexOf("undefined")>-1?e:String(t).indexOf("sdrn:")>-1?t:"sdrn:"+this.userIdDomain+":user:"+t},o.prototype.resolveDoTracking=function(t){return t===!0||"true"===t||1===t||t!==!1&&"false"!==t&&0!==t&&this.doTracking},e.default=o},function(t,e,i){i(82),t.exports=i(2).Array.filter},function(t,e,i){i(83),t.exports=i(2).Array.map},function(t,e,i){i(84),t.exports=i(2).Function.bind},function(t,e,i){i(85),t.exports=i(2).Object.assign},function(t,e,i){var n=i(5);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,i){var n=i(26),r=i(27),o=i(79);t.exports=function(t){return function(e,i,s){var a,u=n(e),c=r(u.length),d=o(s,c);if(t&&i!=i){for(;c>d;)if(a=u[d++],a!=a)return!0}else for(;c>d;d++)if((t||d in u)&&u[d]===i)return t||d||0;return!t&&-1}}},function(t,e,i){var n=i(5),r=i(69),o=i(81)("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),n(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,i){var n=i(62);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,i){"use strict";var n=i(16),r=i(5),o=i(68),s=[].slice,a={},u=function(t,e,i){if(!(e in a)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";a[e]=Function("F,a","return new F("+n.join(",")+")")}return a[e](t,i)};t.exports=Function.bind||function(t){var e=n(this),i=s.call(arguments,1),a=function(){var n=i.concat(s.call(arguments));return this instanceof a?u(e,n.length,n):o(e,n,t)};return r(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,i){var n=i(5),r=i(4).document,o=n(r)&&n(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){t.exports=!i(10)&&!i(7)(function(){return 7!=Object.defineProperty(i(65)("div"),"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var n=i(18);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){"use strict";var n=i(74),r=i(72),o=i(75),s=i(28),a=i(11),u=Object.assign;t.exports=!u||i(7)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=u({},t)[i]||Object.keys(u({},e)).join("")!=n})?function(t,e){for(var i=s(t),u=arguments.length,c=1,d=r.f,l=o.f;u>c;)for(var p,h=a(arguments[c++]),f=d?n(h).concat(d(h)):n(h),g=f.length,v=0;g>v;)l.call(h,p=f[v++])&&(i[p]=h[p]);return i}:u},function(t,e,i){var n=i(60),r=i(67),o=i(80),s=Object.defineProperty;e.f=i(10)?Object.defineProperty:function(t,e,i){if(n(t),e=o(e,!0),n(i),r)try{return s(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(21),r=i(26),o=i(61)(!1),s=i(78)("IE_PROTO");t.exports=function(t,e){var i,a=r(t),u=0,c=[];for(i in a)i!=s&&n(a,i)&&c.push(i);for(;e.length>u;)n(a,i=e[u++])&&(~o(c,i)||c.push(i));return c}},function(t,e,i){var n=i(73),r=i(66);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var n=i(4),r=i(22),o=i(21),s=i(12)("src"),a="toString",u=Function[a],c=(""+u).split(a);i(2).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,i,a){var u="function"==typeof i;u&&(o(i,"name")||r(i,"name",e)),t[e]!==i&&(u&&(o(i,s)||r(i,s,t[e]?""+t[e]:c.join(String(e)))),t===n?t[e]=i:a?t[e]?t[e]=i:r(t,e,i):(delete t[e],r(t,e,i)))})(Function.prototype,a,function(){return"function"==typeof this&&this[s]||u.call(this)})},function(t,e,i){var n=i(23)("keys"),r=i(12);t.exports=function(t){return n[t]||(n[t]=r(t))}},function(t,e,i){var n=i(25),r=Math.max,o=Math.min;t.exports=function(t,e){return t=n(t),t<0?r(t+e,0):o(t,e)}},function(t,e,i){var n=i(5);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var n=i(23)("wks"),r=i(12),o=i(4).Symbol,s="function"==typeof o,a=t.exports=function(t){return n[t]||(n[t]=s&&o[t]||(s?o:r)("Symbol."+t))};a.store=n},function(t,e,i){"use strict";var n=i(6),r=i(17)(2);n(n.P+n.F*!i(24)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(6),r=i(17)(1);n(n.P+n.F*!i(24)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,i){var n=i(6);n(n.P,"Function",{bind:i(64)})},function(t,e,i){var n=i(6);n(n.S+n.F,"Object",{assign:i(70)})},function(t,e,i){"use strict";t.exports=function(t){var e=t.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,n=t.offsetHeight-e.bottom+i;return n<=0?0:Math.min(n,t.offsetHeight)}},function(t,e,i){var n=i(90),r=i(91),o=[i(88)];t.exports=n.createStore(r,o)},function(t,e,i){function n(){return i(89),{}}t.exports=n},function(module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return t<10?"0"+t:t}function this_value(){return this.valueOf()}function quote(t){return rx_escapable.lastIndex=0,rx_escapable.test(t)?'"'+t.replace(rx_escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,n,r,o,s,a=gap,u=e[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof rep&&(u=rep.call(e,t,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,i=0;i<o;i+=1)s[i]=str(i,u)||"null";return r=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,r}if(rep&&"object"==typeof rep)for(o=rep.length,i=0;i<o;i+=1)"string"==typeof rep[i]&&(n=rep[i],r=str(n,u),r&&s.push(quote(n)+(gap?": ":":")+r));else for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(r=str(n,u),r&&s.push(quote(n)+(gap?": ":":")+r));return r=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,r}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;n<i;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var i,n,r=t[e];if(r&&"object"==typeof r)for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=walk(r,i),void 0!==n?r[i]=n:delete r[i]);return reviver.call(t,e,r)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},function(t,e,i){function n(t,e){var i={_seenPlugins:[],_namespacePrefix:"",_namespaceRegexp:null,_legalNamespace:/^[a-zA-Z0-9_\-]+$/,_storage:function(){if(!this.enabled)throw new Error("store.js: No supported storage has been added! Add one (e.g store.addStorage(require('store/storages/cookieStorage')) or use a build with more built-in storages (e.g https://github.com/marcuswestin/store.js/tree/master/dist/store.legacy.min.js)");return this._storage.resolved},_testStorage:function(t){try{var e="__storejs__test__";t.write(e,e);var i=t.read(e)===e;return t.remove(e),i}catch(t){return!1}},_assignPluginFnProp:function(t,e){var i=this[e];this[e]=function(){function e(){if(i)return a(arguments,function(t,e){n[e]=t}),i.apply(r,n)}var n=o(arguments,0),r=this,s=[e].concat(n);return t.apply(r,s)}},_serialize:function(t){return JSON.stringify(t)},_deserialize:function(t,e){if(!t)return e;var i="";try{i=JSON.parse(t)}catch(e){i=t}return void 0!==i?i:e}},n=u(i,p);return a(t,function(t){n.addStorage(t)}),a(e,function(t){n.addPlugin(t)}),n}var r=i(3),o=r.slice,s=r.pluck,a=r.each,u=r.create,c=r.isList,d=r.isFunction,l=r.isObject;t.exports={createStore:n};var p={version:"2.0.4",enabled:!1,storage:null,addStorage:function(t){this.enabled||this._testStorage(t)&&(this._storage.resolved=t,this.enabled=!0,this.storage=t.name)},addPlugin:function(t){var e=this;if(c(t))return void a(t,function(t){e.addPlugin(t)});var i=s(this._seenPlugins,function(e){return t===e});if(!i){if(this._seenPlugins.push(t),!d(t))throw new Error("Plugins must be function values that return objects");var n=t.call(this);if(!l(n))throw new Error("Plugins must return an object of function properties");a(n,function(i,n){if(!d(i))throw new Error("Bad plugin property: "+n+" from plugin "+t.name+". Plugins should only return functions.");e._assignPluginFnProp(i,n)})}},get:function(t,e){var i=this._storage().read(this._namespacePrefix+t);return this._deserialize(i,e)},set:function(t,e){return void 0===e?this.remove(t):(this._storage().write(this._namespacePrefix+t,this._serialize(e)),e)},remove:function(t){this._storage().remove(this._namespacePrefix+t)},each:function(t){var e=this;this._storage().each(function(i,n){t(e._deserialize(i),n.replace(e._namespaceRegexp,""))})},clearAll:function(){this._storage().clearAll()},hasNamespace:function(t){return this._namespacePrefix=="__storejs_"+t+"_"},namespace:function(t){if(!this._legalNamespace.test(t))throw new Error("store.js namespaces can only have alhpanumerics + underscores and dashes");var e="__storejs_"+t+"_";return u(this,{_namespacePrefix:e,_namespaceRegexp:e?new RegExp("^"+e):null})},createStore:function(t,e){return n(t,e)}}},function(t,e,i){t.exports={localStorage:i(93),"oldFF-globalStorage":i(95),"oldIE-userDataStorage":i(96),cookieStorage:i(92),sessionStorage:i(97),memoryStorage:i(94)}},function(t,e,i){function n(t){if(!t||!u(t))return null;var e="(?:^|.*;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(p.cookie.replace(new RegExp(e),"$1"))}function r(t){for(var e=p.cookie.split(/; ?/g),i=e.length-1;i>=0;i--)if(l(e[i])){var n=e[i].split("="),r=unescape(n[0]),o=unescape(n[1]);t(o,r)}}function o(t,e){t&&(p.cookie=escape(t)+"="+escape(e)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function s(t){t&&u(t)&&(p.cookie=escape(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function a(){r(function(t,e){s(e)})}function u(t){return new RegExp("(?:^|;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(p.cookie)}var c=i(3),d=c.Global,l=c.trim;t.exports={name:"cookieStorage",read:n,write:o,each:r,remove:s,clearAll:a};var p=d.document},function(t,e,i){function n(){return d.localStorage}function r(t){return n().getItem(t)}function o(t,e){return n().setItem(t,e)}function s(t){for(var e=n().length-1;e>=0;e--){var i=n().key(e);t(r(i),i)}}function a(t){return n().removeItem(t)}function u(){return n().clear()}var c=i(3),d=c.Global;t.exports={name:"localStorage",read:r,write:o,each:s,remove:a,clearAll:u}},function(t,e){function i(t){return a[t]}function n(t,e){a[t]=e}function r(t){for(var e in a)a.hasOwnProperty(e)&&t(a[e],e)}function o(t){delete a[t]}function s(t){a={}}t.exports={name:"memoryStorage",read:i,write:n,each:r,remove:o,clearAll:s};var a={}},function(t,e,i){function n(t){return d[t]}function r(t,e){d[t]=e}function o(t){for(var e=d.length-1;e>=0;e--){var i=d.key(e);t(d[i],i)}}function s(t){return d.removeItem(t)}function a(){o(function(t,e){delete d[t]})}var u=i(3),c=u.Global;t.exports={name:"oldFF-globalStorage",read:n,write:r,each:o,remove:s,clearAll:a};var d=c.globalStorage},function(t,e,i){function n(t,e){if(!g){var i=u(t);f(function(t){t.setAttribute(i,e),t.save(p)})}}function r(t){if(!g){var e=u(t),i=null;return f(function(t){i=t.getAttribute(e)}),i}}function o(t){f(function(e){for(var i=e.XMLDocument.documentElement.attributes,n=i.length-1;n>=0;n--){var r=i[n];t(e.getAttribute(r.name),r.name)}})}function s(t){var e=u(t);f(function(t){t.removeAttribute(e),t.save(p)})}function a(){f(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(p);for(var i=e.length-1;i>=0;i--)t.removeAttribute(e[i].name);t.save(p)})}function u(t){return t.replace(/^\d/,"___$&").replace(v,"___")}function c(){if(!h||!h.documentElement||!h.documentElement.addBehavior)return null;var t,e,i,n="script";try{e=new ActiveXObject("htmlfile"),e.open(),e.write("<"+n+">document.w=window</"+n+'><iframe src="/favicon.ico"></iframe>'),e.close(),t=e.w.frames[0].document,i=t.createElement("div")}catch(e){i=h.createElement("div"),t=h.body}return function(e){var n=[].slice.call(arguments,0);n.unshift(i),t.appendChild(i),i.addBehavior("#default#userData"),i.load(p),e.apply(this,n),t.removeChild(i)}}var d=i(3),l=d.Global;t.exports={name:"oldIE-userDataStorage",write:n,read:r,each:o,remove:s,clearAll:a};var p="storejs",h=l.document,f=c(),g=(l.navigator?l.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./),v=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g")},function(t,e,i){function n(){return d.sessionStorage}function r(t){return n().getItem(t)}function o(t,e){return n().setItem(t,e)}function s(t){for(var e=n().length-1;e>=0;e--){var i=n().key(e);t(r(i),i)}}function a(t){return n().removeItem(t)}function u(){return n().clear()}var c=i(3),d=c.Global;t.exports={name:"sessionStorage",read:r,write:o,each:s,remove:a,clearAll:u}},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(){var t=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent("_pulse2debug").replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||!1;return t}Object.defineProperty(e,"__esModule",{value:!0});var s=i(31);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var a,u=i(32),c=r(u),d=n(s),l=i(8),p=n(l),h=i(1),f={},g=!1;o()&&(g=!0),"undefined"!=typeof pulse2opt?f=pulse2opt:"undefined"!=typeof _opt?f=_opt:(0,h.debug)("init.js: Could not find pulse2opt global variable",g),(0,h.debug)("bootstrapping Pulse",g),f.debugMode=g;try{a=f.cookieSyncUrl||p.envVars.cookieSyncUrl,d.initTracking(f),a&&c.default.initCookieSync({url:a,userId:f.userId})}catch(t){(0,h.debug)("init.js: Pulse2 init failed: "+t,g)}}])});var pulse2config = {
    "client": "vgpluss",
    "config": [
        {
            "throttle": 1,
            "dataCollector": "https://collector.schibsted.io/api/v1/track",
            "cis": "https://cis.schibsted.com/api/v1/identify"
        }
    ]
}
;